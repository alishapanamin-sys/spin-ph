<!doctype html>
<html lang="tl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Philippines Lucky Spin</title>
  <style>
    :root{
      --bg1:#2b0a86; --bg2:#5a18d6; --bg3:#2b4fe0;
      --orange1:#ffbf25; --orange2:#ff8500;
      --purple:#6c2cff; --purple2:#7e39ff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
      padding:20px;
      color:#fff;
    }
    .phone{
      width:330px; height:650px;
      background:#101018;
      border-radius:40px;
      padding:14px;
      box-shadow:0 20px 60px rgba(0,0,0,.4);
    }
    .screen{
      width:100%; height:100%;
      border-radius:30px;
      background:linear-gradient(180deg,var(--orange1),var(--orange2));
      position:relative; overflow:hidden;
    }
    .notch{
      width:120px; height:24px; background:#000;
      position:absolute; top:10px; left:50%;
      transform:translateX(-50%);
      border-radius:0 0 15px 15px; opacity:.92;
    }
    .title{
      text-align:center;
      margin-top:60px;
      font-weight:900;
      font-size:26px;
      letter-spacing:.3px;
      text-shadow:0 6px 14px rgba(0,0,0,.22);
    }
    .sub{
      text-align:center;
      margin-top:6px;
      font-weight:700;
      font-size:13px;
      opacity:.95;
    }
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:8px 12px;
      border-radius:999px;
      background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.18);
      font-size:13px;
      font-weight:800;
    }
    .topbar{
      margin-top:10px;
      display:flex;
      justify-content:center;
    }
    .wheelWrap{
      position:absolute;
      top:170px;
      left:50%;
      transform:translateX(-50%);
      width:290px; height:290px;
      display:grid; place-items:center;
    }
    .pointer{
      position:absolute;
      top:-18px; left:50%;
      transform:translateX(-50%);
      width:0;height:0;
      border-left:15px solid transparent;
      border-right:15px solid transparent;
      border-bottom:30px solid rgba(255,255,255,.95);
      filter:drop-shadow(0 6px 10px rgba(0,0,0,.25));
      z-index:3;
    }
    .wheel{
      width:260px; height:260px;
      border-radius:50%;
      background: conic-gradient(
        #c40000 0deg 60deg,
        #ffcf3a 60deg 120deg,
        #c40000 120deg 180deg,
        #ffcf3a 180deg 240deg,
        #c40000 240deg 300deg,
        #ffcf3a 300deg 360deg
      );
      transition:transform 4.2s cubic-bezier(.12,.74,.15,1);
      box-shadow:0 18px 40px rgba(0,0,0,.25);
      position:relative;
      overflow:hidden;
      will-change: transform;
    }
    .hub{
      position:absolute; inset:auto;
      width:70px;height:70px;border-radius:50%;
      background:radial-gradient(circle at 30% 30%, #ffe7a8, #d7a637);
      box-shadow: inset 0 0 0 10px rgba(255,255,255,.18), 0 10px 20px rgba(0,0,0,.25);
      left:50%; top:50%; transform:translate(-50%,-50%);
    }
    .label{
      position:absolute;
      left:50%; top:50%;
      width:50%;
      transform-origin:0% 50%;
      font-weight:900;
      font-size:14px;
      color:#fff;
      text-shadow:0 2px 10px rgba(0,0,0,.35);
      display:flex; align-items:center;
    }
    .label span{
      display:inline-block;
      transform:rotate(90deg);
      letter-spacing:.4px;
    }
    .btn{
      position:absolute;
      bottom:70px; left:50%;
      transform:translateX(-50%);
      width:220px; height:56px;
      border:none; cursor:pointer;
      border-radius:999px;
      font-weight:900;
      color:#fff;
      background:linear-gradient(180deg,var(--purple2),var(--purple));
      box-shadow:0 12px 30px rgba(108,44,255,.45);
    }
    .btn:disabled{opacity:.6; cursor:not-allowed}
    .fine{
      position:absolute;
      bottom:18px; left:0; right:0;
      text-align:center;
      font-size:11px;
      opacity:.85;
      padding:0 16px;
    }
    .fine a{color:rgba(255,255,255,.92); text-decoration:underline}

    /* Modal */
    .back{
      position:fixed; inset:0;
      background:rgba(0,0,0,.6);
      display:none; align-items:center; justify-content:center;
      padding:18px;
    }
    .modal{
      width:min(360px, 100%);
      background:rgba(18,18,28,.94);
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      padding:16px;
      text-align:center;
      box-shadow:0 30px 90px rgba(0,0,0,.5);
      backdrop-filter: blur(10px);
      color:#fff;
    }
    .modal h3{margin:6px 0 10px}
    .modal p{margin:0 0 14px; opacity:.92}
    .row{display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    .cbtn{
      border:none; cursor:pointer;
      border-radius:999px;
      padding:12px 16px;
      font-weight:900;
      color:#fff;
      background:linear-gradient(180deg,var(--purple2),var(--purple));
    }
    .cbtn.secondary{background:rgba(255,255,255,.10)}
  </style>
</head>

<body>
  <div class="phone">
    <div class="screen">
      <div class="notch"></div>

      <div class="title">Philippines Lucky Spin üáµüá≠</div>
      <div class="sub">I-spin upang tingnan kung kwalipikado ka sa giveaway ngayong araw</div>

      <div class="topbar">
        <div class="pill">‚è≥ Natitirang oras: <span id="timer">05:00</span></div>
      </div>

      <div class="wheelWrap">
        <div class="pointer"></div>
        <div class="wheel" id="wheel">
          <!-- 6 slices = 60deg each -->
          <div class="label" style="transform:translate(0,-50%) rotate(0deg)"><span>iPhone</span></div>
          <div class="label" style="transform:translate(0,-50%) rotate(60deg)"><span>Samsung</span></div>
          <div class="label" style="transform:translate(0,-50%) rotate(120deg)"><span>‚Ç±10,000</span></div>
          <div class="label" style="transform:translate(0,-50%) rotate(180deg)"><span>Load</span></div>
          <div class="label" style="transform:translate(0,-50%) rotate(240deg)"><span>Data</span></div>
          <div class="label" style="transform:translate(0,-50%) rotate(300deg)"><span>Subukan Muli</span></div>
          <div class="hub"></div>
        </div>
      </div>

      <button class="btn" id="spinBtn">I-SPIN NGAYON</button>

      <div class="fine">
        <a href="privacy.html">Privacy</a> ¬∑ <a href="terms.html">Terms</a><br/>
        Hindi kaakibat ng Apple/Samsung. Para lamang sa mga residente ng Pilipinas.
      </div>
    </div>
  </div>

  <div class="back" id="back" role="dialog" aria-modal="true">
    <div class="modal">
      <h3 id="mTitle">Resulta</h3>
      <p id="mText">‚Äî</p>
      <div class="row">
        <button class="cbtn" id="claimBtn">MAGPATULOY</button>
        <button class="cbtn secondary" id="closeBtn">Isara</button>
      </div>
    </div>
  </div>

<script>
  // ====== EDIT THIS ======
  const SMARTLINK_URL = "https://iconics.adsleads1.store/?utm_medium=45cb5b04ee2dd3d524876ef99d99f52ba4436745&utm_campaign=spentph";
  // =======================

  // Countdown (5 minutes)
  let remaining = 5 * 60; // seconds
  const timerEl = document.getElementById("timer");
  const spinBtn = document.getElementById("spinBtn");

  function tick(){
    const m = String(Math.floor(remaining / 60)).padStart(2,"0");
    const s = String(remaining % 60).padStart(2,"0");
    timerEl.textContent = `${m}:${s}`;
    if(remaining <= 0){
      spinBtn.disabled = true;
      timerEl.textContent = "00:00";
      return;
    }
    remaining--;
    setTimeout(tick, 1000);
  }
  tick();

  // Weighted outcomes
  const prizes = [
    { name: "iPhone 15",         weight: 4  },
    { name: "Samsung Galaxy",    weight: 6  },
    { name: "Cash ‚Ç±10,000",      weight: 10 },
    { name: "Load",              weight: 18 },
    { name: "Data Bundle",       weight: 18 },
    { name: "Subukan Muli",      weight: 44 }
  ];

  function pickWeighted(){
    const total = prizes.reduce((a,p)=>a+p.weight,0);
    let r = Math.random() * total;
    for(const p of prizes){
      r -= p.weight;
      if(r <= 0) return p.name;
    }
    return prizes[prizes.length-1].name;
  }

  // Map prize to slice index (0..5)
  const sliceMap = {
    "iPhone 15": 0,
    "Samsung Galaxy": 1,
    "Cash ‚Ç±10,000": 2,
    "Load": 3,
    "Data Bundle": 4,
    "Subukan Muli": 5
  };

  let spinning = false;
  let rotation = 0;
  const wheel = document.getElementById("wheel");

  const back = document.getElementById("back");
  const mTitle = document.getElementById("mTitle");
  const mText  = document.getElementById("mText");
  const claimBtn = document.getElementById("claimBtn");
  const closeBtn = document.getElementById("closeBtn");

  function openModal(title, text){
    mTitle.textContent = title;
    mText.textContent = text;
    back.style.display = "flex";
  }
  function closeModal(){ back.style.display = "none"; }

  closeBtn.addEventListener("click", closeModal);
  back.addEventListener("click", (e)=>{ if(e.target === back) closeModal(); });

  claimBtn.addEventListener("click", ()=>{ window.location.href = SMARTLINK_URL; });

  spinBtn.addEventListener("click", ()=>{
    if(spinning || remaining<=0) return;
    spinning = true;

    const prize = pickWeighted();
    const idx = sliceMap[prize] ?? 5;

    // 6 slices => 60deg each. centers at 30 + idx*60
    const center = 30 + idx * 60;

    // land at top pointer
    const extraTurns = 6;
    const target = (extraTurns * 360) - center;

    rotation += target;
    wheel.style.transform = `rotate(${rotation}deg)`;

    setTimeout(()=>{
      spinning = false;

      if(prize === "Subukan Muli"){
        openModal("Subukan Muli", "Maaari kang sumubok muli kung may natitirang oras.");
        claimBtn.textContent = "OK";
        claimBtn.onclick = ()=> closeModal();
      }else{
        openModal("Kwalipikado ‚úÖ", `Nakuha mo: ${prize}. Magpatuloy upang kumpirmahin ang iyong entry.`);
        claimBtn.textContent = "MAGPATULOY";
        claimBtn.onclick = ()=> window.location.href = SMARTLINK_URL;
      }
    }, 4300);
  });
</script>
</body>
</html>
